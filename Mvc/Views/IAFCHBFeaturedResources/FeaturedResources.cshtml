@model  SitefinityWebApp.Mvc.Models.IAFCHandBookResourceModel

@using Telerik.Sitefinity.Frontend.Mvc.Helpers;

	@if (Model.Id != Guid.Empty)
	{		
	<div class="resources__logged">

			<div class="resources__logged-info">
				<p class="resources__slide-article resources__logged-article">Featured @Model.ResourceDetails.ResourceType • <span> @Model.ResourceDetails.Category.CategoryTitle</span></p>
				<h6 class="resources__slide-title resources__logged-title">@Model.ResourceDetails.ResourceTitle</h6>
				<p class="resources__slide-desc resources__logged-desc">@Html.Raw(Model.ResourceDetails.ResourceSummary)</p>
			<div class="resources__logged-buttons">
				<button type="submit" formaction="@Model.ResourceUrl" class="community__head-btn resources__logged-btn" > View </button>
				<span class="resources__slide-btn " id="@string.Format("{0}_{1}", "addToMyHandBook", Model.Id.ToString())">
					@if (Model.IsResourceAddedToMyHandBook == true)
					{
						<span class="resources__logged-added">Added to MyHandBook</span>
					}
					else
					{
						<button type="button" class="resources__slide-btn addToMyHandBook" data-id="@Model.Id.ToString()"><span class="resources--plus anticon anticon-plus"></span>Add to MyHandBook </button>
					}
				</span>
            </div>
			</div>
			<div class="resources__logged-img-box">
				<img src='@Model.ResourceDetails.ImageUrl' />
				<div class="resources__slide-time resources__logged-time">
                                    <div class="resources--time">&nbsp;</div>
				<span>@Model.ResourceDetails.Duration</span>
                </div>

			</div>

	</div>
	}


<script type="text/javascript">

	$(document).ready(function () {
		
		//Add ToMyHandBook
		$('.addToMyHandBook').on('click', function () {

			var resourceId = $(this).attr('data-id');

			$.ajax({
				type: 'POST',
				cache: false,
				url: '@Url.Action("AddToMyHandBook", "IAFCHBFeaturedResourcesController")',
				data: { resourceId },
				dataType: "json",
				success: function (response) {
					if (response == true) {
						$("#addToMyHandBook_" + resourceId).html("<span class='resources--plus anticon anticon-check'></span>Added to MyHandBook");
					}
				}
			});
		});

	});

</script>




